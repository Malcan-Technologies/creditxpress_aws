# Signing Orchestrator Production Environment Variables

# Database Configuration
AGREEMENTS_DB_PASSWORD=your_secure_postgres_password_here
DATABASE_URL=postgresql://agreements_user:${AGREEMENTS_DB_PASSWORD}@agreements-postgres:5432/agreements_db

# Application Settings
APP_PORT=4010
APP_BASE_URL=https://sign.kredit.my
NODE_ENV=production

# DocuSeal Integration
DOCUSEAL_BASE_URL=https://sign.kredit.my:3001
DOCUSEAL_WEBHOOK_HMAC_SECRET=your_secure_webhook_secret_here
DOCUSEAL_API_TOKEN=your_production_docuseal_api_token

# PKI Integration Settings
PKI_ENABLED=true
PKI_SESSION_EXPIRY_MINUTES=10
PKI_OTP_MAX_ATTEMPTS=3

# File Storage Paths (Production)
SIGNED_FILES_HOST_DIR=/opt/kapital/agreements/signed
ORIGINAL_FILES_HOST_DIR=/opt/kapital/agreements/original
STAMPED_FILES_HOST_DIR=/opt/kapital/agreements/stamped
AGREEMENTS_DB_HOST_DIR=/opt/kapital/agreements/postgres
AGREEMENTS_LOGS_HOST_DIR=/opt/kapital/logs/agreements-postgres
LOGS_HOST_DIR=/opt/kapital/logs/signing-orchestrator
MAX_UPLOAD_MB=50

# MyTrustSigner Agent Configuration
MTSA_ENV=production
MTSA_WSDL_PILOT=http://mtsa-pilot:8080/MTSAPilot/MyTrustSignerAgentWSAPv2?wsdl
MTSA_WSDL_PROD=http://mtsa-prod:8080/MTSA/MyTrustSignerAgentWSAPv2?wsdl
MTSA_SOAP_USERNAME=your_production_mtsa_username
MTSA_SOAP_PASSWORD=your_production_mtsa_password

# API Authentication
SIGNING_ORCHESTRATOR_API_KEY=your_secure_api_key_here

# Security (Strict for production)
CORS_ORIGINS=https://sign.kredit.my,https://api.kredit.my
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging (Optimized for production)
LOG_LEVEL=info
LOG_FORMAT=json

# Timezone
KUALA_LUMPUR_TZ=Asia/Kuala_Lumpur
TZ=Asia/Kuala_Lumpur

# Health Check
HEALTH_CHECK_INTERVAL_MS=30000

# Notification Settings (Optional)
NOTIFICATION_WEBHOOK_URL=https://api.kredit.my/webhooks/signing
NOTIFICATION_WEBHOOK_SECRET=your_notification_webhook_secret
